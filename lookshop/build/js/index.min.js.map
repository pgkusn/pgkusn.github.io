{"version":3,"sources":["index.js"],"names":["$","slick","autoplay","infinite","dots","speed","fade","cssEase","window","load","scrollProduct","obj","$ul","$wrap","find","wrapIndex","wrapWidth","offset","$product","width","li_width","wrapLeft","bgColor","children","css","$btn","removeClass","filter","addClass","each","index","val","this","outerWidth","maxIndex","Math","ceil","unbind","click","event","preventDefault","hasClass","animate","left","hideProduct","status","el","hide","first","show","next","$loadMore","hideClearence","removeAttr","productStyle","innerWidth","on","siblings","eq","change","mouseover","fadeIn","setMenuaHeight","$menuA","h","height","$menuB","$backBtn","ul","length","clone","append","remove","$el","defaultWidth","onresize","newWidth","slideUp","$target","attr","slideToggle"],"mappings":"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","file":"index.min.js","sourcesContent":["// slick\r\n$('#slider').slick({\r\n    autoplay: true,\r\n    infinite: true,\r\n    dots: true,\r\n    speed: 500,\r\n    fade: true,\r\n    cssEase: 'linear'\r\n});\r\n\r\n// 商品展示\r\n(function() {\r\n    $(window).load(function() {\r\n        var $product = $('#product'),\r\n            $wrap = $('.wrap'),\r\n            $btn = $product.find('.rightCtrl a'),\r\n            $loadMore = $('.loadMore'),\r\n            li_width = $wrap.find('li').width(),\r\n            index = 0;\r\n\r\n        function scrollProduct(obj) {\r\n            var $ul = $wrap.find('ul.active'),\r\n                wrapIndex = 1,\r\n                wrapWidth = 0,\r\n                offset = $product.width() - li_width,\r\n                wrapLeft = (wrapIndex - 1) * offset,\r\n                bgColor = $(obj).children().css('backgroundColor');\r\n\r\n            // 初始化\r\n            $ul.css('left', 0);\r\n            $wrap.css('backgroundColor', bgColor);\r\n            $product.find('select').css('backgroundColor', bgColor);\r\n            $btn.removeClass('disable').filter('.left').addClass('disable');\r\n\r\n            // 計算並設置ul的寬度\r\n            $.each($ul.children(), function(index, val) {\r\n                wrapWidth += $(this).outerWidth(true);\r\n            });\r\n            $ul.css('width', wrapWidth);\r\n\r\n            // 計算滾動至最右邊的位置\r\n            var maxIndex = Math.ceil(wrapWidth / offset);\r\n\r\n            $btn.unbind('click').click(function(event) {\r\n                event.preventDefault();\r\n\r\n                if ($(this).hasClass('left')) {\r\n                    if (wrapIndex > 1) {\r\n                        wrapLeft += offset;\r\n                        wrapIndex--;\r\n                        $ul.animate({ left: wrapLeft });\r\n                        $btn.removeClass('disable');\r\n                        if (wrapIndex === 1) {\r\n                            $(this).addClass('disable');\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (wrapIndex < maxIndex) {\r\n                        wrapLeft -= offset;\r\n                        wrapIndex++;\r\n                        $ul.animate({ left: wrapLeft });\r\n                        $btn.removeClass('disable');\r\n                        if (wrapIndex === maxIndex) {\r\n                            $(this).addClass('disable');\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        function hideProduct(status) {\r\n            if (status) {\r\n                $product.find('.shop').each(function(index, el) {\r\n                    $(this).children('li').hide()\r\n                        .first().show()\r\n                        .next().show();\r\n                });\r\n                $loadMore.addClass('active');\r\n                $product.find('select').val(index);\r\n            } else {\r\n                $product.find('.shop li').show();\r\n                $loadMore.removeClass('active');\r\n            }\r\n        }\r\n\r\n        function hideClearence(status) {\r\n            if (status) {\r\n                $loadMore.addClass('active');\r\n            } else {\r\n                $loadMore.removeClass('active');\r\n            }\r\n            $('#clearence').find('.shop li').removeAttr('style');\r\n        }\r\n\r\n        function productStyle() {\r\n            if (window.innerWidth <= 640) {\r\n                hideProduct(true);\r\n                hideClearence(true);\r\n            } else {\r\n                hideProduct(false);\r\n                hideClearence(false);\r\n            }\r\n        }\r\n\r\n        $product.find('.leftCtrl').on('mouseover click', 'li', function(event) {\r\n            event.preventDefault();\r\n\r\n            index = $(this).index();\r\n\r\n            $(this).addClass('active')\r\n                .siblings()\r\n                .removeClass('active');\r\n\r\n            $product.find('.wrap ul')\r\n                .eq(index)\r\n                .addClass('active')\r\n                .siblings('ul')\r\n                .removeClass('active');\r\n\r\n            scrollProduct(this);\r\n        });\r\n\r\n        $product.find('select').change(function() {\r\n            index = $(this).val();\r\n\r\n            $product.find('.wrap ul')\r\n                .eq(index)\r\n                .addClass('active')\r\n                .siblings()\r\n                .removeClass('active');\r\n\r\n            hideProduct(true);\r\n\r\n            $product.find('.leftCtrl li').eq(index).mouseover();\r\n        });\r\n\r\n        $loadMore.click(function(event) {\r\n            event.preventDefault();\r\n            $(this).siblings('.shop.active').children('li:hidden').fadeIn();\r\n            $(this).removeClass('active');\r\n        });\r\n\r\n        scrollProduct($product.find('.leftCtrl li.active'));\r\n        productStyle();\r\n    });\r\n})();\r\n\r\n// Mobile主選單\r\n(function() {\r\n    var $menuA = $('#menuA'),\r\n    \t$menuB = $('#menuB'),\r\n        $wrap = $menuA.children('.wrap'),\r\n        $backBtn = $('.fa-arrow-left');\r\n\r\n    // 依選單內容長度設定外部容器高度(因內部元素為絕對定位)\r\n    function setMenuaHeight() {\r\n        $menuA.show(); // 將外部容器取消隱藏\r\n        var h = $menuA.find('ul').height(); // 取得內容長度\r\n        $menuA.height(h); // 設定外部容器高度\r\n        $menuA.hide(); // 隱藏外部容器\r\n    }\r\n\r\n    // 切換至子選單\r\n    $menuA.on('click', 'a', function(event) {\r\n        var ul = $(this).siblings('ul');\r\n        if (ul.length) {\r\n            event.preventDefault();\r\n            var obj = ul.clone().addClass('next');\r\n            $wrap.append(obj).animate({ left: '-100%' });\r\n            $backBtn.show();\r\n        }\r\n    });\r\n\r\n    // 回到母選單\r\n    $backBtn.click(function() {\r\n        $wrap.animate({ left: 0 }, function() {\r\n            $('ul.next').remove();\r\n            $backBtn.hide();\r\n        });\r\n    });\r\n\r\n    // 將有子選單的母選單上加入箭頭\r\n    $menuA.find('.wrap>ul>li').each(function(index, el) {\r\n        var $el = $(el);\r\n        if ($el.children('ul').length) {\r\n            $el.append('<a href=\"#\"><i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i></a>');\r\n        }\r\n    });\r\n\r\n    // 視窗寬度變更時，重設選單高度並收合\r\n    var defaultWidth=window.innerWidth;\r\n    window.onresize = function(){\r\n    \tvar newWidth=window.innerWidth;\r\n    \tif(newWidth !== defaultWidth){\r\n    \t\tsetMenuaHeight();\r\n\t\t\t$menuA.slideUp();\r\n\t\t\t$menuB.slideUp();\r\n    \t}\r\n    \tdefaultWidth=newWidth;\r\n    };\r\n\r\n    setMenuaHeight();\r\n})();\r\n\r\n// 顯示/隱藏選單\r\n$('.menuBtn').click(function(event) {\r\n    event.preventDefault();\r\n    var $target = $($(this).attr('href'));\r\n    $target.slideToggle();\r\n});\r\n"]}