{"version":3,"sources":["index.js"],"names":["$cart","$","click","event","preventDefault","toggleClass","height","target","parents","length","removeClass","$search","is","fadeOut","find","val","fadeIn","focus","submit","keydown","which","index","offset","$ctrl","$ul","total","children","on","$this","this","hasClass","data","stop","animate","left","addClass","$menu","$content","eq","siblings","flexslider","animation","fancybox","openEffect","closeEffect","attr","padding","lazyload","effect","threshold","$nav","$wrap","$back","clone","slideToggle","ul","obj","append","prepend","remove","each","el","$el","show","h","hide"],"mappings":"CAGA,WACC,GAAIA,GAAMC,EAAE,QAGZA,GAAE,WAAWC,MAAM,SAASC,GAC3BA,EAAMC,iBACNJ,EAAMK,YAAY,YAInBJ,EAAE,QAAQC,MAAM,SAASC,GACrBH,EAAMM,SAAS,IAAML,EAAEE,EAAMI,QAAQC,QAAQ,SAASC,QACxDT,EAAMU,YAAY,eAMrB,WACC,GAAIC,GAAQV,EAAE,UAGdA,GAAE,cAAcC,MAAM,SAASC,GAC9BA,EAAMC,iBACHO,EAAQC,GAAG,YACbD,EAAQE,QAAQ,QAAQC,KAAK,SAASC,IAAI,IAG1CJ,EAAQK,OAAO,QAAQF,KAAK,SAASG,UAKvCN,EAAQG,KAAK,cAAcZ,MAAM,WAChCS,EAAQG,KAAK,QAAQI,WAItBP,EAAQQ,QAAQ,SAAShB,GACP,KAAdA,EAAMiB,OACRT,EAAQE,QAAQ,QAAQC,KAAK,SAASC,IAAI,SAM7C,WACC,GAAIM,GAAM,EACTC,OACAC,EAAMtB,EAAE,SACRuB,EAAID,EAAMf,QAAQ,UAAUM,KAAK,MACjCW,EAAMD,EAAIE,SAAS,MAAMjB,MAE1Bc,GAAMI,GAAG,QAAS,IAAK,SAASxB,GAC/BA,EAAMC,gBAEN,IAAIwB,GAAM3B,EAAE4B,KAGZ,KAAGD,EAAME,SAAS,WAAlB,CAKA,OAAOF,EAAMG,KAAK,WACjB,IAAK,QACJV,GACA,MACD,KAAK,OACJA,IAGFG,EAAIQ,MAAK,GAAMC,SAASC,KAAMZ,EAAOD,EAAM,OAGhC,IAARA,GAAaA,IAASI,EAAM,EAC9BG,EAAMO,SAAS,WAGfZ,EAAMG,SAAS,KAAKhB,YAAY,iBAMnC,WACC,GAAI0B,GAAMnC,EAAE,SACXoC,EAASD,EAAMtB,KAAK,eAErBsB,GAAMtB,KAAK,QAAQa,GAAG,QAAS,KAAM,SAASxB,GAC7CA,EAAMC,gBAEN,IAAIwB,GAAM3B,EAAE4B,MACXR,EAAMO,EAAMP,OAEVO,GAAME,SAAS,YAElBO,EAASC,GAAGjB,GAAOW,MAAK,GAAMhB,SACxBuB,SAAS,OAAO1B,UAEtBe,EAAMO,SAAS,UACZI,SAAS,WAAW7B,YAAY,gBAKrCT,EAAE,eAAeuC,YAChBC,UAAW,UAIZxC,EAAE,aAAayC,UACdC,WAAa,OACbC,YAAc,SAGdC,KAAK,MAAO,WACZH,UACGI,QAAU,IAId7C,EAAE,SAAS8C,UACVC,OAAS,SACTC,UAAY,MAIb,WACC,GAAIC,GAAKjD,EAAE,QACVkD,EAAMD,EAAKxB,SAAS,SACpB0B,EAAMnD,EAAE,iBAAiBoD,OAG1BpD,GAAE,YAAYC,MAAM,SAASC,GAC5BA,EAAMC,iBACN8C,EAAKlB,MAAK,GAAMsB,YAAY,YAI7BJ,EAAKvB,GAAG,QAAS,IAAK,SAASxB,GAC9B,GAAIoD,GAAGtD,EAAE4B,MAAMU,SAAS,KACxB,IAAGgB,EAAG9C,OAAO,CACZN,EAAMC,gBACN,IAAIoD,GAAID,EAAGF,QAAQlB,SAAS,OAC5BgB,GAAMM,OAAOD,GAAKvB,SAASC,KAAK,UAEhCjC,EAAE,WAAWyD,QAAQN,MAKvBF,EAAKvB,GAAG,QAAS,QAAS,SAASxB,GAClCA,EAAMC,iBACN+C,EAAMlB,SAASC,KAAM,GAAI,WACxBjC,EAAE,WAAW0D,aAKfT,EAAKpC,KAAK,eAAe8C,KAAK,SAASvC,EAAOwC,GAC7C,GAAIC,GAAI7D,EAAE4D,EACPC,GAAIpC,SAAS,MAAMjB,QACrBqD,EAAIpC,SAAS,KAAKS,SAAS,UAK7Be,EAAKa,MACL,IAAIC,GAAEd,EAAKpC,KAAK,MAAMR,QACtB4C,GAAK5C,OAAO0D,GACZd,EAAKe","file":"index.min.js","sourcesContent":["// 'use strict';\r\n\r\n// cart drop-down\r\n(function(){\r\n\tvar $cart=$('#cart');\r\n\t\r\n\t// 選單顯示/隱藏\r\n\t$('.toggle').click(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$cart.toggleClass('active');\r\n\t});\r\n\r\n\t// 選單展開時點擊任一處後隱藏\r\n\t$('body').click(function(event) {\r\n\t\tif($cart.height()>0 && !$(event.target).parents('#cart').length){\r\n\t\t\t$cart.removeClass('active');\r\n\t\t}\r\n\t});\r\n})();\r\n\r\n// desktop search\r\n(function(){\r\n\tvar $search=$('#search');\r\n\r\n\t// 顯示/隱藏搜索欄\r\n\t$('.searchBtn').click(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tif($search.is(':visible')){\r\n\t\t\t$search.fadeOut('fast').find('input').val('');\r\n\t\t}\r\n\t\telse{\r\n\t\t\t$search.fadeIn('fast').find('input').focus();\r\n\t\t}\r\n\t});\r\n\r\n\t// 送出表單\r\n\t$search.find('.fa-search').click(function() {\r\n\t\t$search.find('form').submit();\r\n\t});\r\n\r\n\t// 按下ESC隱藏搜索欄\r\n\t$search.keydown(function(event) {\r\n\t\tif(event.which===27){\r\n\t\t\t$search.fadeOut('fast').find('input').val('');\r\n\t\t}\r\n\t});\r\n})();\r\n\r\n// slide\r\n(function(){\r\n\tvar index=0,\r\n\t\toffset=-100,\r\n\t\t$ctrl=$('.ctrl'),\r\n\t\t$ul=$ctrl.parents('.slide').find('ul'),\r\n\t\ttotal=$ul.children('li').length;\r\n\r\n\t$ctrl.on('click', 'a', function(event) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tvar $this=$(this);\r\n\r\n\t\t// 停用按鈕按下事件\r\n\t\tif($this.hasClass('disable')){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// 按下按鈕動畫\r\n\t\tswitch($this.data('target')){\r\n\t\t\tcase 'right':\r\n\t\t\t\tindex++;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'left':\r\n\t\t\t\tindex--;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t$ul.stop(true).animate({left: offset*index+'vw'});\r\n\r\n\t\t// 停用/啟用按鈕\r\n\t\tif(index===0 || index===(total-1)){\r\n\t\t\t$this.addClass('disable');\r\n\t\t}\r\n\t\telse{\r\n\t\t\t$ctrl.children('a').removeClass('disable');\r\n\t\t}\r\n\t});\r\n})();\r\n\r\n// menu tab\r\n(function(){\r\n\tvar $menu=$('#menu'),\r\n\t\t$content=$menu.find('.content>div');\r\n\r\n\t$menu.find('.nav').on('click', 'li', function(event) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tvar $this=$(this),\r\n\t\t\tindex=$this.index();\r\n\r\n\t\tif($this.hasClass('active')) return;\r\n\t\t\r\n\t\t$content.eq(index).stop(true).fadeIn()\r\n\t\t\t    .siblings('div').fadeOut();\r\n\r\n\t\t$this.addClass('active')\r\n\t\t\t .siblings('.active').removeClass('active');\r\n\t});\r\n})();\r\n\r\n// flexslider\r\n$('.flexslider').flexslider({\r\n\tanimation: \"slide\"\r\n});\r\n\r\n// fancybox\r\n$(\".fancybox\").fancybox({\r\n\topenEffect\t: 'none',\r\n\tcloseEffect\t: 'none'\r\n})\r\n// 移除邊框\r\n.attr('rel', 'gallery')\r\n.fancybox({\r\n    padding : 0\r\n});\r\n\r\n// lazyload\r\n$('.lazy').lazyload({\r\n\teffect : \"fadeIn\",\r\n\tthreshold : 200\r\n});\r\n\r\n// Mobile主選單\r\n(function(){\r\n\tvar $nav=$('#nav'),\r\n\t\t$wrap=$nav.children('.wrap'),\r\n\t\t$back=$('#hidden .back').clone();\r\n\r\n\t// 選單顯示/隱藏\r\n\t$('.fa-bars').click(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$nav.stop(true).slideToggle('linear');\r\n\t});\r\n\r\n\t// 切換至子選單\r\n\t$nav.on('click', 'a', function(event) {\r\n\t\tvar ul=$(this).siblings('ul');\r\n\t\tif(ul.length){\r\n\t\t\tevent.preventDefault();\r\n\t\t\tvar obj=ul.clone().addClass('next');\r\n\t\t\t$wrap.append(obj).animate({left:'-100%'});\r\n\t\t\t// 將子選單加入返回按鈕\r\n\t\t\t$('ul.next').prepend($back);\r\n\t\t}\r\n\t});\r\n\r\n\t// 回到母選單\r\n\t$nav.on('click', '.back', function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$wrap.animate({left: 0}, function() {\r\n\t\t\t$('ul.next').remove();\r\n\t\t});\r\n\t});\r\n\r\n\t// 將有子選單的母選單上加入箭頭\r\n\t$nav.find('.wrap>ul>li').each(function(index, el) {\r\n\t\tvar $el=$(el);\r\n\t\tif($el.children('ul').length){\r\n\t\t\t$el.children('a').addClass('next');\r\n\t\t}\r\n\t});\r\n\r\n\t// 依選單內容長度設定外部容器高度(因內部元素為絕對定位)\r\n\t$nav.show(); // 將外部容器取消隱藏\r\n\tvar h=$nav.find('ul').height(); // 取得內容長度\r\n\t$nav.height(h); // 設定外部容器高度\r\n\t$nav.hide(); // 隱藏外部容器\r\n})();"],"sourceRoot":"/source/"}