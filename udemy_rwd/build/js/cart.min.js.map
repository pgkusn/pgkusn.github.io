{"version":3,"sources":["cart.js"],"names":["init","menuTop","$cart","offset","top","paddingTop","window","innerWidth","bottomTop","$","menuHeight","$menu","height","maxOffset","$window","on","winTop","scrollTop","marginTop","unbind"],"mappings":"AAAA,cACA,WASI,QAASA,KACL,GAAIC,GAAUC,EAAMC,SAASC,IAAMC,CAEnC,IAAIC,OAAOC,YAAc,KAAOD,OAAOC,WAAa,IAAK,CAErD,GAAIC,GAAYC,EAAE,WAAWN,SAASC,IAClCM,EAAaC,EAAMC,QACvBC,GAAYL,EAAYE,EAExBI,EAAQC,GAAG,SAAU,WACjB,GAAIC,GAASF,EAAQG,WAEjBhB,IAAWe,GACXb,EAASa,EAASE,EAEdF,GAAUH,EAAYK,IACtBf,EAASU,IAGbV,EAASF,EAGbU,EAAMR,QAASC,IAAKD,UAGxBW,GAAQK,OAAO,UACfR,EAAMR,QAASC,IAAKH,IAlC5B,GAAIa,GAAUL,EAAEH,QACZK,EAAQF,EAAE,SACVP,EAAQO,EAAE,SACVN,EAAS,EACTU,EAAY,EACZK,EAAY,GACZb,EAAa,EAgCjBS,GAAQC,GAAG,SAAUf,GAErBA","file":"cart.min.js","sourcesContent":["// menu隨螢幕滾動效果\r\n(function() {\r\n    var $window = $(window),\r\n        $menu = $('#menu'),\r\n        $cart = $('#cart'),\r\n        offset = 0,\r\n        maxOffset = 0,\r\n        marginTop = 10, // 滾動時menu與視窗頂部的距離\r\n        paddingTop = 48; // #cart>.wrap padding-top\r\n\r\n    function init() {\r\n        var menuTop = $cart.offset().top + paddingTop;\r\n\r\n        if (window.innerWidth >= 480 && window.innerWidth < 600) {\r\n            // 計算offset最大限制\r\n            var bottomTop = $('.bottom').offset().top;\r\n            var menuHeight = $menu.height();\r\n            maxOffset = bottomTop - menuHeight;\r\n\r\n            $window.on('scroll', function() {\r\n                var winTop = $window.scrollTop();\r\n\r\n                if (menuTop <= winTop) {\r\n                    offset = winTop + marginTop;\r\n                    // menu到達最底部的位置\r\n                    if (winTop >= maxOffset - marginTop) {\r\n                        offset = maxOffset;\r\n                    }\r\n                } else {\r\n                    offset = menuTop;\r\n                }\r\n\r\n                $menu.offset({ top: offset });\r\n            });\r\n        } else {\r\n            $window.unbind('scroll');\r\n            $menu.offset({ top: menuTop });\r\n        }\r\n    }\r\n\r\n    $window.on('resize', init);\r\n\r\n    init();\r\n})();\r\n"]}